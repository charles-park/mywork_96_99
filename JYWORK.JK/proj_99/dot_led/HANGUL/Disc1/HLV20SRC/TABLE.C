/*========================================*/
/*                                        */
/*      THIS IS C   Total Library         */
/*                                        */
/*           Output Table init            */
/*                Module                  */
/*                                        */
/*     made by Han Woo-jin.KIT e900519    */
/*                                        */
/*     KETEL ID : hwjketel                */
/*     TEL      : (02) 488-1558,house     */
/*                (042) 820-4231,KIT.     */
/*                                        */
/*========================================*/

#include <mem.h>
#include <alloc.h>

extern char *Dml;               /* convert table ( middle-last  ) */
extern char *Dfm;               /* convert table ( first-middle ) */
extern char *Dmf;               /* convert table ( middle-first ) */

void (*savefunc)();            /* code table function save area  */

char _dml[4][22]=
               { {0,  0,2,0,2,1,2,1,2,3,0,2,1,3,3,1,2,1,3,3,1,1 },
                 {0,  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 },
                 {0,  0,2,0,2,1,2,1,2,3,0,2,1,3,3,1,2,1,3,3,1,1 },
                 {0,  1,1,1,1,1,1,1,1,1,0,1,1,0,0,1,1,1,0,0,1,1 } };
char _dfm[4][20][2]=
            { { 1,3, 0,2,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,
                1,3,1,3,1,3,1,3,0,2,1,3,1,3,1,3 },{ 0,1, 0,1,0,1,0,1,
                0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,
                0,1 },{ 1,3, 0,2,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,
                1,3,1,3,1,3,1,3,0,2,1,3,1,3,1,3 },{0,0, 0,0,0,0,0,0,0,0,
                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                0,0 } };
char _dmf[4][22][2]=
            { { 0,0, 0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,1,6,3,7,3,7,3,7,1,6,
                2,6,4,7,4,7,4,7,2,6,1,6,3,7,0,5 },{ 0,0, 0,1,0,1,0,1,0,1,
                0,1,0,1,0,1,0,1,2,3,4,5,4,5,4,5,2,3,3,3,4,5,4,5,4,5,3,3,2,3,
                4,5,0,1 },{ 0,0, 0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,1,6,3,8,
                3,8,3,8,1,6,2,7,4,9,4,9,4,9,2,7,1,6,3,8,0,5 },{ 0,0, 0,0,
                0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,
                0,0,0,0,1,1,1,1,0,0,0,0 } };

void hgSetCtable(int method)
{
        Dml=&_dml[method][0];
        Dfm=&_dfm[method][0][0];
        Dmf=&_dmf[method][0][0];
}
void hgSetCodeTable(void (*setcode)())
{
        (*setcode)();
        savefunc=setcode;
}
void hgResetCodeTable()   /* this is only used in hangul input function */
{
        (*savefunc)();
}
